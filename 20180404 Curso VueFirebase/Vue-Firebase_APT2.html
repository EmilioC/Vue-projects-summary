
<!--https://wmedia.teachable.com/courses/140226/lectures/3134514-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vue-Firebase_APT 2</title>
    <link rel="stylesheet" href="pruebatablasCSS.css">

</head>
<body>
        <button class="btnFijo3" id="mostrar-tabla">TABLA 1</button> 
        <div id="app">

                <!-- Tabla muestra APT desde Firebase en pantalla-->
        
            <form @submit.prevent="enviarMensaje">
                    <input v-model="mensaje" type="text" class="form-control"/> 
                <div class="form_group">
                    <label for="id">ID</label>
                    <input v-model="id" type="text" class="form-control"/>
                </div>
                <div class="form_group">
                    <label for="idsupervisor">SUPERVISOR</label>
                    <input type="text" class="form-control" v-model="supervisor" />
                </div>        
                <div class="form_group">
                    <label for="fecha">FECHA</label>
                    <input type="text" class="form-control" v-model="fecha" />
                </div>
                <div class="form_group">
                    <label for="descriptionAPT">DESCRIPCIÓN</label>
                    <input type="text" class="form-control" v-model="descripcion" />
                </div>
                <div class="form_group">
                    <label for="actionAPT">ACCIÓN TOMADA</label>
                    <input type="text" class="form-control" v-model="accion" />
                </div>
                <div class="form_group">
                    <label for="typeAPT">TIPO APT</label>
                    <input type="text" class="form-control" v-model="typeAPT" />
                </div>
                <div class="form_group">
                    <label for="category">CATEGORÍA APT</label>
                    <input type="text" class="form-control" v-model="category" />
                </div>
                <div class="form_group">
                    <label for="photoAPT">FOTO</label>
                    <input type="text" class="form-control" v-model="photo" />
                </div>
                <div class="form_group">
                    <label for="learningAPT">APRENDIZAJE</label>
                    <input type="text" class="form-control" v-model="aprendizaje" />
                </div>
                <div class="form_group">
                    <label for="causes">EFECTO EN LA INSTALACIÓN</label>
                    <input type="text" class="form-control" v-model="causes" />
                </div>
                <input type="submit" value="Enviar mensaje">
                </form>
                <hr>
               
<!-- Tabla muestra APT desde Firebase en pantalla-->
<h1>TABLE 1 </h1>
               
<table class="table1">
        <thead>
            <th>FECHA</th>
            <th>ID</th>
            <th>Aprendizaje</th>
            <th>Descripcion</th>
            <th>Accion</th>
            <th>Tipo APT</th>
            <th>Categoría</th>
            <th>Foto</th>
            <th>Causa</th>
        </thead >
            <tr v-for="(mensaje, index) in mensajes">
                <td> {{ mensaje.fecha }} </td>
                <td> {{ mensaje.id }} </td>
                <td> {{ mensaje.descripcion }} </td>
                <td> {{ mensaje.accion }} </td>
                <td> {{ mensaje.typeAPT }} </td>
                <td> {{ mensaje.category }} </td>
                <td> {{ mensaje.photo }} </td>
                <td> {{ mensaje.aprendizaje }} </td>
                <td> {{ mensaje.causes }} </td>
                <td> <button @click="eliminarMensaje(mensaje.key)">Borrar</button></td>
            </tr>
    </table>
   
    <h1>TABLE 2 </h1>
            
                <li v-for="mensaje in mensajes">
                <!-- PENDIENTE DE REVISAR EL MÉTODO EDIT
                    <span contenteditable="true" @blur="editarMensaje($event, mensaje.key)">
                            {{ mensaje.mensaje}}
                    </span>    -->
                    <small><i>{{ mensaje.id }}</i></small>
                    <small><i>{{ mensaje.supervisor }}</i></small>
                    <small><i>{{ mensaje.fecha }}</i></small>
                    <small><i>{{ mensaje.descripcion }}</i></small>
                    <small><i>{{ mensaje.accion }}</i></small>
                    <small><i>{{ mensaje.typeAPT }}</i></small>
                    <small><i>{{ mensaje.category }}</i></small>
                    <small><i>{{ mensaje.photo }}</i></small>
                    <small><i>{{ mensaje.aprendizaje }}</i></small>
                    <small><i>{{ mensaje.causes }}</i></small>
                    <!-- eliminamos solo el mensaje.key, que identifica de manera unívoca el mensaje seleccionado-->
                    <button @click="eliminarMensaje(mensaje.key)">delete</button>
                
                </li>
            </ul>
            <h1>TABLE 3 </h1>
            <ul>
             <li v-for="(mensaje, index) in mensajes">
                        {{index}} - {{mensajes.id}}
                     <tr><td>
                            <small><i>{{ mensaje.id }}</i></small>
                            <small><i>{{ mensaje.supervisor }}</i></small>
                            <small><i>{{ mensaje.fecha }}</i></small>
                            <small><i>{{ mensaje.descripcion }}</i></small>
                            <small><i>{{ mensaje.accion }}</i></small>
                            <small><i>{{ mensaje.typeAPT }}</i></small>
                            <small><i>{{ mensaje.category }}</i></small>
                            <small><i>{{ mensaje.photo }}</i></small>
                            <small><i>{{ mensaje.aprendizaje }}</i></small>
                            <small><i>{{ mensaje.causes }}</i></small>
                        <!-- eliminamos solo el mensaje.key, que identifica de manera unívoca el mensaje seleccionado-->
                        <button @click="eliminarMensaje(mensaje.key)">delete</button>
                     </td></tr>
                    </li>
                </ul>
        </div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.3.4/vue.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.1.5/firebase.js"></script>
<script src="mainAPT2.js"></script>
</body>
</html>